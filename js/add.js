function selectImage(e){document.getElementById("icon1").style.border="none",document.getElementById("icon2").style.border="none",document.getElementById("icon3").style.border="none",document.getElementById("icon4").style.border="none",uploadImageFlag=0;var t=document.getElementById(e);t.style.border="5px solid #42A5F5";var o=t.src.split("/"),n=o[o.length-1];selectedIcon=n}function uploadImage(){$("#file-upload").trigger("click"),uploadImageFlag=1}function isNumberInHour(e){e.value<0&&(e.value=0),e.value>23&&(e.value=23)}function isNumberInMin(e){e.value<0&&(e.value=0),e.value>59&&(e.value=59)}function notifyMe(){"Notification"in window?"granted"===Notification.permission||"denied"!==Notification.permission&&Notification.requestPermission(function(e){}):alert("This browser does not support system notifications")}function createNotification(e,t){var o="Time to "+e,n={body:o,icon:t},i=new Notification(e,n);i.onclick=function(){document.location="list.html"},setTimeout(i.close.bind(i),1e3)}var myDataRef=new Firebase("https://jjb750uy9yj.firebaseio-demo.com/habits/"),uploadImageFlag=0;$("#save").click(function(e){var t=$("#title").val(),o=$("#others").val();if(""==t)return title_ex.style.display="block",void(title_text.style.color="red");for(var n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={},l=document.getElementsByName("dayOfTheWeek"),a=0,r=0,s=l.length;s>r;r++)l[r].checked?(i[n[r]]="yes",a++):i[n[r]]="no";if(0==a)return weekly_ex.style.display="block",void(weekly_freq.style.color="red");var c=document.getElementById("others").value,d=document.getElementById("title").value;uploadImageFlag?selectedIcon=document.getElementById("icon4").src:selectedIcon="../img/"+selectedIcon;var u=document.getElementById("notificationHours").value,m=document.getElementById("notificationMins").value;if(""==u)return hour_min_ex.style.display="block",hour_min_ex.style.color="red",void(hour_val.style.color="red");if(""==m)return hour_min_ex.style.display="block",hour_min_ex.style.color="red",void(min_val.style.color="red");if(void 0==c||isNaN(c)||0>c)return daily_ex.style.display="block",void(daily_freq.style.color="red");var y=Date.now();Date.now||(Date.now=function(){return(new Date).getTime()}),/[^a-zA-Z0-9_\-\ \/]/.test(c)?alert("Input must be alphanumeric. Please remove non-alphanumeric symbols to continue."):/[^a-zA-Z0-9\-\ \/]/.test(d)?alert("Input must be alphanumeric. Please remove non-alphanumeric symbols to continue."):(myDataRef.push({habitData:{name:t,text:o,iconId:selectedIcon,daysOfWeek:i,frequencyPerDay:c,settings:{turnoff:"0",sleep:"0",pause:"0"},habitProgress:{counter:"0",maxRecord:"1"},timestamp:y,notiTime:{notiHour:u,notiMins:m}}}),document.location="list.html")}),$(document).ready(function(){});var isPushEnabled=!1;