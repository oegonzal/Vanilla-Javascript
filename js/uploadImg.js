function handleFileSelect(e){var n=e.target.files[0],t=new FileReader;t.onload=function(e){return function(e){var n=e.target.result,t=CryptoJS.SHA256(Math.random()+CryptoJS.SHA256(n)),i=new Firebase(firebaseRef+"images/"+t+"/filePayload");spinner.spin(document.getElementById("spin")),i.set(n,function(){spinner.stop(),document.getElementById("icon4").src=e.target.result,selectedIcon=e.target.result,$("#file-upload").hide(),window.location.hash=t})}}(n),t.readAsDataURL(n)}var spinner=new Spinner({color:"#ddd"}),firebaseRef="https://jjb750uy9yj.firebaseio-demo.com/",selectedIcon="sleep.jpg";$(function(){$("#spin").append(spinner);var e=window.location.href.indexOf("#"),n=e>0?window.location.href.slice(e+1):"";if(""===n)$("#file-upload").show(),document.getElementById("file-upload").addEventListener("change",handleFileSelect,!1);else{spinner.spin(document.getElementById("spin"));var t=new Firebase(firebaseRef+n+"/filePayload");t.once("value",function(e){var n=e.val();null!=n?document.getElementById("pano").src=n:$("#body").append("Not found"),spinner.stop()})}});